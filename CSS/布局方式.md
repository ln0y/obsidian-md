---
aliases: []
tags: ['CSS','date/2022-03','year/2022','month/03']
date: 2022-03-04-Friday 15:16:41
update: 2022-03-04-Friday 15:27:52
---

## 常见页面布局方式

在我们的日常工作中，实现页面的 UI 样式除了会遇到单个元素的样式调整外，还需要对整个页面进行结构布局，比如将页面划分为左中右、上中下模块，实现某些模块的居中对齐，实现页面的响应式布局，等等。

要实现对页面的排版布局，需要使用到一些页面布局方式。目前来说，比较常见的布局方式主要有三种：

- 传统布局方式；
- Flex 布局方式；
- Grid 布局方式。

### 传统布局

传统布局方式基本上使用上面介绍的布局规则，结合`display/position/float`属性以及一些边距、x/y 轴距离等方式来进行布局。

除了使用`position: fixed`或者`position: absolute`时，会使元素脱离文档流，使用float属性同样会导致元素脱离文档流。

为什么将某个元素里面的元素设置为`float`之后，这个元素的高度就歪了呢？

这是因为当我们给元素的`float`属性赋值后，元素会脱离文档流，进行左右浮动，比如这里我们将其中一个`<div>`元素添加了`float`属性 ：

```html
<style>
  div {
    border: solid 1px red;
    width: 50px;
    height: 50px;
  }
  .float {
    float: left;
  }
</style>
<div>1</div>
<div class="float">2</div>
<div class="float">3</div>
<div>4</div>
<div>5</div>
<div class="float">6</div>
```

我们可以在浏览器中看到，`float`元素会紧贴着父元素或者是上一个同级同浮动元素的边框：

![[_attachment/img/Cgp9HWBwB-SAZahpAABKURkJ8hE997.png]]

可以看到当元素设置为`float`之后，它就脱离文档流，同时也不再占据原本的空间。

因此，本属于普通流中的元素浮动之后，父元素内部如果不存在其他普通流元素了，就会表现出高度为 0，又称为高度塌陷。

在这样的情况下，我们可以使用以下方法撑开父元素：

- 父元素使用`overflow: hidden`（此时高度为`auto`）；
- 使父元素也成为浮动`float`元素；
- 使用`clear`清除浮动。

除了 `clear` 清除浮动之外，这些方法为什么可以达到撑开父元素的效果呢，这是因为 BFC（Block Formatting Context，块格式化上下文）的特性。BFC 是 Web 页面的可视 CSS 渲染的一部分，是块盒子的布局过程发生的区域，也是浮动元素与其他元素交互的区域。

传统方式布局的优势在于兼容性较好，在一些版本较低的浏览器上也能给到用户较友好的体验。但传统布局需要掌握的知识较多也相对复杂，对于整个页面的布局和排版实现，常常是基于盒模型、使用`display`属性+`position`属性+`float`属性的方式来进行，这个过程比较烦琐，因此更多时候我们都会使用开源库（比如 bootstrap）来完成页面布局。

后来 W3C 提出了新的布局方式，可以快速、简便地实现页面的排版布局，新的布局方式包括 Flex 布局和 Grid 布局。

### 使用 Flex 布局

Flex 布局（又称为 flexbox）是一种一维的布局模型。在使用此布局时，需掌握几个概念。

- flexbox 的两根轴线。其中，主轴由`flex-direction`定义，交叉轴则垂直于主轴。
- 在 flexbox 中，使用起始和终止来描述布局方向。
- 认识 flex 容器和 flex 元素。

想熟练使用 Flex 布局，我们需要了解什么是 flex 容器和 flex 元素。比如我们给一个父元素`div`设置`display: flex;`：

```html
<style>
  div {
    border: solid 1px #000;
    margin: 10px;
  }
  .box {
    display: flex;
  }
</style>
<div class="box">
  <div>1</div>
  <div>2</div>
  <div>3 <br />有其他 <br />内容</div>
</div>
```

在浏览器中的效果就会如图所示：

![[_attachment/img/CioPOWBwB_WAR3CJAAAti6zxREI918.png]]

其中，flex 容器为`<div class="box">`元素及其内部区域，而容器的直系子元素（1、2、3 这 3 个`<div>`）为 flex 元素。

在掌握了 flex 容器和 flex 元素之后，我们就可以通过调整 flexbox 轴线方向、排列方向和对齐方式的方式，实现需要的页面效果。

Flex 布局种常用的方式包括：

- 通过`flex-direction`调整 Flex 元素的排列方向（主轴的方向）；
- 用`flex-wrap`实现多行 Flex 容器如何换行；
- 使用`justify-content`调整 Flex 元素在主轴上的对齐方式；
- 使用`align-items`调整 Flex 元素在交叉轴上如何对齐；
- 使用`align-content`调整多根轴线的对齐方式。

Flex 布局给`flexbox`的子元素之间提供了强大的空间分布和对齐能力，我们可以方便地使用 Flex 布局来实现垂直和水平居中，比如通过将元素设置为`display: flex;`，并配合使用`align-items: center;`、`justify-content: center;`：

```html
<style>
  div {
    border: solid 1px #000;
  }
  .box {
    display: flex;
    width: 200px;
    height: 200px;
    align-items: center;
    justify-content: center;
  }
  .in-box {
    width: 80px;
    height: 80px;
  }
</style>
<div class="box">
  <div class="in-box">我想要垂直水平居中</div>
</div>
```

就可以将一个元素设置为垂直和水平居中。

对于传统的布局方式来说，要实现上述垂直水平居中，常常需要依赖绝对定位+元素偏移的方式来实现，该实现方式不够灵活（在调整元素大小时需要调整定位）、难以维护。

Flex 布局的出现，解决了很多前端开发居中、排版的一些痛点，尤其是垂直居中，因此现在几乎成为主流的布局方式。除此之外，还可以对 Flex 元素设置排列顺序、放大比例、缩小比例等。

如果说 Flex 布局是一维布局，那么 Grid 布局则是一种二维布局的方式。

### Grid 布

Grid 布局又称为网格布局，它将一个页面划分为几个主要区域，以及定义这些区域的大小、位置、层次等关系。

我们知道 Flex 布局是基于轴线布局，与之相对，Grid 布局则是将容器划分成行和列，可以像表格一样按行或列来对齐元素。

对于 Grid 布局，同样需要理解几个概念：网格轨道与行列、网格线、网格容器等。其实 Grid 布局很多概念跟 Flex 布局还挺相似的，因此这里不再赘述。

使用 Grid 布局可以：

- 实现网页的响应式布局；
- 实现灵活的 12 列布局（类似于 Bootstrap 的 CSS 布局方式）；
- 与其他布局方式结合，与 css 其他部分协同合作。

通过 Grid 布局我们能实现任意组合不同布局，其设计可称得上目前最强大的布局方式，它与 Flex 布局是未来的趋势。其中，Grid 布局适用于较大规模的布局，Flex 布局则适合页面中的组件和较小规模布局。
